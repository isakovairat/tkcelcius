"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5068],{5068:function(t,i,e){e.d(i,{OutOfCanvasUpdater:function(){return OutOfCanvasUpdater}});var o=e(1457);let BounceOutMode=class BounceOutMode{constructor(t){this.container=t,this.modes=["bounce","split"]}update(t,i,e,s){if(!this.modes.includes(s))return;let n=this.container,r=!1;for(let[,o]of n.plugins)if(void 0!==o.particleBounce&&(r=o.particleBounce(t,e,i)),r)break;if(r)return;let a=t.getPosition(),d=t.offset,c=t.getRadius(),u=(0,o.M_)(a,c),p=n.canvas.size;!function(t){if("bounce"!==t.outMode&&"split"!==t.outMode||"left"!==t.direction&&"right"!==t.direction)return;t.bounds.right<0&&"left"===t.direction?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&"right"===t.direction&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);let i=t.particle.velocity.x,e=!1;if("right"===t.direction&&t.bounds.right>=t.canvasSize.width&&i>0||"left"===t.direction&&t.bounds.left<=0&&i<0){let i=(0,o.Gu)(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-i,e=!0}if(!e)return;let s=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&"right"===t.direction?t.particle.position.x=t.canvasSize.width-s:t.bounds.left<=0&&"left"===t.direction&&(t.particle.position.x=s),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:s,direction:i,bounds:u,canvasSize:p,offset:d,size:c}),function(t){if("bounce"!==t.outMode&&"split"!==t.outMode||"bottom"!==t.direction&&"top"!==t.direction)return;t.bounds.bottom<0&&"top"===t.direction?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&"bottom"===t.direction&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);let i=t.particle.velocity.y,e=!1;if("bottom"===t.direction&&t.bounds.bottom>=t.canvasSize.height&&i>0||"top"===t.direction&&t.bounds.top<=0&&i<0){let i=(0,o.Gu)(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-i,e=!0}if(!e)return;let s=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&"bottom"===t.direction?t.particle.position.y=t.canvasSize.height-s:t.bounds.top<=0&&"top"===t.direction&&(t.particle.position.y=s),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:s,direction:i,bounds:u,canvasSize:p,offset:d,size:c})}};let DestroyOutMode=class DestroyOutMode{constructor(t){this.container=t,this.modes=["destroy"]}update(t,i,e,s){if(!this.modes.includes(s))return;let n=this.container;switch(t.outType){case"normal":case"outside":if((0,o.Ac)(t.position,n.canvas.size,o.OW.origin,t.getRadius(),i))return;break;case"inside":{let{dx:i,dy:e}=(0,o.oW)(t.position,t.moveCenter),{x:s,y:n}=t.velocity;if(s<0&&i>t.moveCenter.radius||n<0&&e>t.moveCenter.radius||s>=0&&i<-t.moveCenter.radius||n>=0&&e<-t.moveCenter.radius)return}}n.particles.remove(t,void 0,!0)}};let NoneOutMode=class NoneOutMode{constructor(t){this.container=t,this.modes=["none"]}update(t,i,e,s){if(!this.modes.includes(s)||((t.options.move.distance.horizontal&&("left"===i||"right"===i))??(t.options.move.distance.vertical&&("top"===i||"bottom"===i))))return;let n=t.options.move.gravity,r=this.container,a=r.canvas.size,d=t.getRadius();if(n.enable){let e=t.position;(!n.inverse&&e.y>a.height+d&&"bottom"===i||n.inverse&&e.y<-d&&"top"===i)&&r.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=a.height+d||t.velocity.y<0&&t.position.y>=-d||t.velocity.x>0&&t.position.x<=a.width+d||t.velocity.x<0&&t.position.x>=-d)return;(0,o.Ac)(t.position,r.canvas.size,o.OW.origin,d,i)||r.particles.remove(t)}}};let OutOutMode=class OutOutMode{constructor(t){this.container=t,this.modes=["out"]}update(t,i,e,s){if(!this.modes.includes(s))return;let n=this.container;if("inside"===t.outType){let{x:i,y:e}=t.velocity,s=o.OW.origin;s.length=t.moveCenter.radius,s.angle=t.velocity.angle+Math.PI,s.addTo(o.OW.create(t.moveCenter));let{dx:r,dy:a}=(0,o.oW)(t.position,s);if(i<=0&&r>=0||e<=0&&a>=0||i>=0&&r<=0||e>=0&&a<=0)return;t.position.x=Math.floor((0,o.vd)({min:0,max:n.canvas.size.width})),t.position.y=Math.floor((0,o.vd)({min:0,max:n.canvas.size.height}));let{dx:d,dy:c}=(0,o.oW)(t.position,t.moveCenter);t.direction=Math.atan2(-c,-d),t.velocity.angle=t.direction}else{if((0,o.Ac)(t.position,n.canvas.size,o.OW.origin,t.getRadius(),i))return;switch(t.outType){case"outside":{t.position.x=Math.floor((0,o.vd)({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor((0,o.vd)({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;let{dx:i,dy:e}=(0,o.oW)(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(e,i),t.velocity.angle=t.direction);break}case"normal":{let e=t.options.move.warp,s=n.canvas.size,r={bottom:s.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:s.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},a=t.getRadius(),d=(0,o.M_)(t.position,a);"right"===i&&d.left>s.width+t.offset.x?(t.position.x=r.left,t.initialPosition.x=t.position.x,e||(t.position.y=(0,o.sZ)()*s.height,t.initialPosition.y=t.position.y)):"left"===i&&d.right<-t.offset.x&&(t.position.x=r.right,t.initialPosition.x=t.position.x,e||(t.position.y=(0,o.sZ)()*s.height,t.initialPosition.y=t.position.y)),"bottom"===i&&d.top>s.height+t.offset.y?(e||(t.position.x=(0,o.sZ)()*s.width,t.initialPosition.x=t.position.x),t.position.y=r.top,t.initialPosition.y=t.position.y):"top"===i&&d.bottom<-t.offset.y&&(e||(t.position.x=(0,o.sZ)()*s.width,t.initialPosition.x=t.position.x),t.position.y=r.bottom,t.initialPosition.y=t.position.y)}}}}};let checkOutMode=(t,i)=>t.default===i||t.bottom===i||t.left===i||t.right===i||t.top===i;let OutOfCanvasUpdater=class OutOfCanvasUpdater{constructor(t){this._updateOutMode=(t,i,e,o)=>{for(let s of this.updaters)s.update(t,o,i,e)},this.container=t,this.updaters=[]}init(t){this.updaters=[];let i=t.options.move.outModes;checkOutMode(i,"bounce")?this.updaters.push(new BounceOutMode(this.container)):checkOutMode(i,"out")?this.updaters.push(new OutOutMode(this.container)):checkOutMode(i,"destroy")?this.updaters.push(new DestroyOutMode(this.container)):checkOutMode(i,"none")&&this.updaters.push(new NoneOutMode(this.container))}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,i){let e=t.options.move.outModes;this._updateOutMode(t,i,e.bottom??e.default,"bottom"),this._updateOutMode(t,i,e.left??e.default,"left"),this._updateOutMode(t,i,e.right??e.default,"right"),this._updateOutMode(t,i,e.top??e.default,"top")}}}}]);